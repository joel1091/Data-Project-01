.row
  .col-sm-12
    h1 MongoDB / Raw JSON connect

.row
  .col-sm-12
    .page-header
      h4 Connect to MongoDB

  .col-sm-12

    form
      .row
        .col-sm-3
          label(for="mongodb_host") MongoDB host
          input.form-control(type="text" data-tableau-key="mongodb_host" )

        .col-sm-3
          label(for="mongodb_port") MongoDB port
          input.form-control(type="text" data-tableau-key="mongodb_port" value="28017")

        .col-sm-3
          label(for="mongodb_host") MongoDB Database
          input.form-control(type="text" data-tableau-key="mongodb_db" )

        .col-sm-3
          label(for="mongodb_host") MongoDB Collection
          input.form-control(type="text" data-tableau-key="mongodb_collection" )

      .row
        .col-sm-8
          label(for="mongodb_host") MongoDB additional Parameters
          input.form-control(type="text" data-tableau-key="mongodb_params")

          p
            | Query parameters can be found &nbsp;
            a(href="http://docs.mongodb.org/ecosystem/tools/http-interfaces/#simple-rest-api" target="_blank") in the MongoDB Simple REST API guide.

        .col-sm-2
          label Page size
          input.form-control(type="number" data-tableau-key="page_size" value="1000")


        .col-sm-2
          label Connect
          a.btn.btn-default(href="#" data-state-to="run_mongo") Connect to MongoDB

    .col-sm-12
      p
        strong
          | This connection requires &nbsp;
          a(href="http://docs.mongodb.org/ecosystem/tools/http-interfaces/#simple-rest-api" target="_blank") setting up MongoDB v1.4+:
        | This API is disabled by default, as it could provide unauthenticated access to data. Use <code>--rest</code> on the command line to enable, but be aware of security implications.


      .text-muted
        p Connecting to mongodb using the Simple REST API requires starting the mongod server with the <code>--rest</code> and <code>--jsonp</code> command line switches to enable the REST API and enable the connector to load data through JSONP.
        p For example on Ubuntu this may mean:
        code mongod --config /etc/mongodb.conf --rest --jsonp
        p To access the REST API from a different machine you also need to change the <code>bind_ip</code> configuration property in your mongodb configuration form 127.0.0.1 (the default that comes with most mongodb packages) to 0.0.0.0 

//
  .row
    .col-sm-12
      .page-header
        h4 Or connect to a raw JSON file

    .col-sm-12

      form
        .row
          .col-sm-10
            label(for="url") JSON Url
            input.form-control(type="text" data-tableau-key="url")

          .col-sm-2
            label Connect
            a.btn.btn-default(href="#" data-state-to="run") Get raw JSON

